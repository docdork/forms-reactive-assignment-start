{"ast":null,"code":"import _assertThisInitialized from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _get from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _classCallCheck from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { Subscription } from '../Subscription';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\nexport function bufferToggle(openings, closingSelector) {\n  return function bufferToggleOperatorFunction(source) {\n    return source.lift(new BufferToggleOperator(openings, closingSelector));\n  };\n}\nvar BufferToggleOperator = /*#__PURE__*/function () {\n  function BufferToggleOperator(openings, closingSelector) {\n    _classCallCheck(this, BufferToggleOperator);\n    this.openings = openings;\n    this.closingSelector = closingSelector;\n  }\n  _createClass(BufferToggleOperator, [{\n    key: \"call\",\n    value: function call(subscriber, source) {\n      return source.subscribe(new BufferToggleSubscriber(subscriber, this.openings, this.closingSelector));\n    }\n  }]);\n  return BufferToggleOperator;\n}();\nvar BufferToggleSubscriber = /*#__PURE__*/function (_OuterSubscriber) {\n  _inherits(BufferToggleSubscriber, _OuterSubscriber);\n  var _super = _createSuper(BufferToggleSubscriber);\n  function BufferToggleSubscriber(destination, openings, closingSelector) {\n    var _this;\n    _classCallCheck(this, BufferToggleSubscriber);\n    _this = _super.call(this, destination);\n    _this.closingSelector = closingSelector;\n    _this.contexts = [];\n    _this.add(subscribeToResult(_assertThisInitialized(_this), openings));\n    return _this;\n  }\n  _createClass(BufferToggleSubscriber, [{\n    key: \"_next\",\n    value: function _next(value) {\n      var contexts = this.contexts;\n      var len = contexts.length;\n      for (var i = 0; i < len; i++) {\n        contexts[i].buffer.push(value);\n      }\n    }\n  }, {\n    key: \"_error\",\n    value: function _error(err) {\n      var contexts = this.contexts;\n      while (contexts.length > 0) {\n        var context = contexts.shift();\n        context.subscription.unsubscribe();\n        context.buffer = null;\n        context.subscription = null;\n      }\n      this.contexts = null;\n      _get(_getPrototypeOf(BufferToggleSubscriber.prototype), \"_error\", this).call(this, err);\n    }\n  }, {\n    key: \"_complete\",\n    value: function _complete() {\n      var contexts = this.contexts;\n      while (contexts.length > 0) {\n        var context = contexts.shift();\n        this.destination.next(context.buffer);\n        context.subscription.unsubscribe();\n        context.buffer = null;\n        context.subscription = null;\n      }\n      this.contexts = null;\n      _get(_getPrototypeOf(BufferToggleSubscriber.prototype), \"_complete\", this).call(this);\n    }\n  }, {\n    key: \"notifyNext\",\n    value: function notifyNext(outerValue, innerValue) {\n      outerValue ? this.closeBuffer(outerValue) : this.openBuffer(innerValue);\n    }\n  }, {\n    key: \"notifyComplete\",\n    value: function notifyComplete(innerSub) {\n      this.closeBuffer(innerSub.context);\n    }\n  }, {\n    key: \"openBuffer\",\n    value: function openBuffer(value) {\n      try {\n        var closingSelector = this.closingSelector;\n        var closingNotifier = closingSelector.call(this, value);\n        if (closingNotifier) {\n          this.trySubscribe(closingNotifier);\n        }\n      } catch (err) {\n        this._error(err);\n      }\n    }\n  }, {\n    key: \"closeBuffer\",\n    value: function closeBuffer(context) {\n      var contexts = this.contexts;\n      if (contexts && context) {\n        var buffer = context.buffer,\n          subscription = context.subscription;\n        this.destination.next(buffer);\n        contexts.splice(contexts.indexOf(context), 1);\n        this.remove(subscription);\n        subscription.unsubscribe();\n      }\n    }\n  }, {\n    key: \"trySubscribe\",\n    value: function trySubscribe(closingNotifier) {\n      var contexts = this.contexts;\n      var buffer = [];\n      var subscription = new Subscription();\n      var context = {\n        buffer: buffer,\n        subscription: subscription\n      };\n      contexts.push(context);\n      var innerSubscription = subscribeToResult(this, closingNotifier, context);\n      if (!innerSubscription || innerSubscription.closed) {\n        this.closeBuffer(context);\n      } else {\n        innerSubscription.context = context;\n        this.add(innerSubscription);\n        subscription.add(innerSubscription);\n      }\n    }\n  }]);\n  return BufferToggleSubscriber;\n}(OuterSubscriber);","map":{"version":3,"names":["Subscription","subscribeToResult","OuterSubscriber","bufferToggle","openings","closingSelector","bufferToggleOperatorFunction","source","lift","BufferToggleOperator","_classCallCheck","_createClass","key","value","call","subscriber","subscribe","BufferToggleSubscriber","_OuterSubscriber","_inherits","_super","_createSuper","destination","_this","contexts","add","_assertThisInitialized","_next","len","length","i","buffer","push","_error","err","context","shift","subscription","unsubscribe","_get","_getPrototypeOf","prototype","_complete","next","notifyNext","outerValue","innerValue","closeBuffer","openBuffer","notifyComplete","innerSub","closingNotifier","trySubscribe","splice","indexOf","remove","innerSubscription","closed"],"sources":["/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/rxjs/_esm2015/internal/operators/bufferToggle.js"],"sourcesContent":["import { Subscription } from '../Subscription';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\nexport function bufferToggle(openings, closingSelector) {\n    return function bufferToggleOperatorFunction(source) {\n        return source.lift(new BufferToggleOperator(openings, closingSelector));\n    };\n}\nclass BufferToggleOperator {\n    constructor(openings, closingSelector) {\n        this.openings = openings;\n        this.closingSelector = closingSelector;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new BufferToggleSubscriber(subscriber, this.openings, this.closingSelector));\n    }\n}\nclass BufferToggleSubscriber extends OuterSubscriber {\n    constructor(destination, openings, closingSelector) {\n        super(destination);\n        this.closingSelector = closingSelector;\n        this.contexts = [];\n        this.add(subscribeToResult(this, openings));\n    }\n    _next(value) {\n        const contexts = this.contexts;\n        const len = contexts.length;\n        for (let i = 0; i < len; i++) {\n            contexts[i].buffer.push(value);\n        }\n    }\n    _error(err) {\n        const contexts = this.contexts;\n        while (contexts.length > 0) {\n            const context = contexts.shift();\n            context.subscription.unsubscribe();\n            context.buffer = null;\n            context.subscription = null;\n        }\n        this.contexts = null;\n        super._error(err);\n    }\n    _complete() {\n        const contexts = this.contexts;\n        while (contexts.length > 0) {\n            const context = contexts.shift();\n            this.destination.next(context.buffer);\n            context.subscription.unsubscribe();\n            context.buffer = null;\n            context.subscription = null;\n        }\n        this.contexts = null;\n        super._complete();\n    }\n    notifyNext(outerValue, innerValue) {\n        outerValue ? this.closeBuffer(outerValue) : this.openBuffer(innerValue);\n    }\n    notifyComplete(innerSub) {\n        this.closeBuffer(innerSub.context);\n    }\n    openBuffer(value) {\n        try {\n            const closingSelector = this.closingSelector;\n            const closingNotifier = closingSelector.call(this, value);\n            if (closingNotifier) {\n                this.trySubscribe(closingNotifier);\n            }\n        }\n        catch (err) {\n            this._error(err);\n        }\n    }\n    closeBuffer(context) {\n        const contexts = this.contexts;\n        if (contexts && context) {\n            const { buffer, subscription } = context;\n            this.destination.next(buffer);\n            contexts.splice(contexts.indexOf(context), 1);\n            this.remove(subscription);\n            subscription.unsubscribe();\n        }\n    }\n    trySubscribe(closingNotifier) {\n        const contexts = this.contexts;\n        const buffer = [];\n        const subscription = new Subscription();\n        const context = { buffer, subscription };\n        contexts.push(context);\n        const innerSubscription = subscribeToResult(this, closingNotifier, context);\n        if (!innerSubscription || innerSubscription.closed) {\n            this.closeBuffer(context);\n        }\n        else {\n            innerSubscription.context = context;\n            this.add(innerSubscription);\n            subscription.add(innerSubscription);\n        }\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}