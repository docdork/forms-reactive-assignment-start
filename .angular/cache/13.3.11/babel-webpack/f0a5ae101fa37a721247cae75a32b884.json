{"ast":null,"code":"import _inherits from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _classCallCheck from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function mergeScan(accumulator, seed) {\n  var concurrent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Number.POSITIVE_INFINITY;\n  return function (source) {\n    return source.lift(new MergeScanOperator(accumulator, seed, concurrent));\n  };\n}\nexport var MergeScanOperator = /*#__PURE__*/function () {\n  function MergeScanOperator(accumulator, seed, concurrent) {\n    _classCallCheck(this, MergeScanOperator);\n    this.accumulator = accumulator;\n    this.seed = seed;\n    this.concurrent = concurrent;\n  }\n  _createClass(MergeScanOperator, [{\n    key: \"call\",\n    value: function call(subscriber, source) {\n      return source.subscribe(new MergeScanSubscriber(subscriber, this.accumulator, this.seed, this.concurrent));\n    }\n  }]);\n  return MergeScanOperator;\n}();\nexport var MergeScanSubscriber = /*#__PURE__*/function (_SimpleOuterSubscribe) {\n  _inherits(MergeScanSubscriber, _SimpleOuterSubscribe);\n  var _super = _createSuper(MergeScanSubscriber);\n  function MergeScanSubscriber(destination, accumulator, acc, concurrent) {\n    var _this;\n    _classCallCheck(this, MergeScanSubscriber);\n    _this = _super.call(this, destination);\n    _this.accumulator = accumulator;\n    _this.acc = acc;\n    _this.concurrent = concurrent;\n    _this.hasValue = false;\n    _this.hasCompleted = false;\n    _this.buffer = [];\n    _this.active = 0;\n    _this.index = 0;\n    return _this;\n  }\n  _createClass(MergeScanSubscriber, [{\n    key: \"_next\",\n    value: function _next(value) {\n      if (this.active < this.concurrent) {\n        var index = this.index++;\n        var destination = this.destination;\n        var ish;\n        try {\n          var accumulator = this.accumulator;\n          ish = accumulator(this.acc, value, index);\n        } catch (e) {\n          return destination.error(e);\n        }\n        this.active++;\n        this._innerSub(ish);\n      } else {\n        this.buffer.push(value);\n      }\n    }\n  }, {\n    key: \"_innerSub\",\n    value: function _innerSub(ish) {\n      var innerSubscriber = new SimpleInnerSubscriber(this);\n      var destination = this.destination;\n      destination.add(innerSubscriber);\n      var innerSubscription = innerSubscribe(ish, innerSubscriber);\n      if (innerSubscription !== innerSubscriber) {\n        destination.add(innerSubscription);\n      }\n    }\n  }, {\n    key: \"_complete\",\n    value: function _complete() {\n      this.hasCompleted = true;\n      if (this.active === 0 && this.buffer.length === 0) {\n        if (this.hasValue === false) {\n          this.destination.next(this.acc);\n        }\n        this.destination.complete();\n      }\n      this.unsubscribe();\n    }\n  }, {\n    key: \"notifyNext\",\n    value: function notifyNext(innerValue) {\n      var destination = this.destination;\n      this.acc = innerValue;\n      this.hasValue = true;\n      destination.next(innerValue);\n    }\n  }, {\n    key: \"notifyComplete\",\n    value: function notifyComplete() {\n      var buffer = this.buffer;\n      this.active--;\n      if (buffer.length > 0) {\n        this._next(buffer.shift());\n      } else if (this.active === 0 && this.hasCompleted) {\n        if (this.hasValue === false) {\n          this.destination.next(this.acc);\n        }\n        this.destination.complete();\n      }\n    }\n  }]);\n  return MergeScanSubscriber;\n}(SimpleOuterSubscriber);","map":{"version":3,"names":["SimpleOuterSubscriber","SimpleInnerSubscriber","innerSubscribe","mergeScan","accumulator","seed","concurrent","arguments","length","undefined","Number","POSITIVE_INFINITY","source","lift","MergeScanOperator","_classCallCheck","_createClass","key","value","call","subscriber","subscribe","MergeScanSubscriber","_SimpleOuterSubscribe","_inherits","_super","_createSuper","destination","acc","_this","hasValue","hasCompleted","buffer","active","index","_next","ish","e","error","_innerSub","push","innerSubscriber","add","innerSubscription","_complete","next","complete","unsubscribe","notifyNext","innerValue","notifyComplete","shift"],"sources":["/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/rxjs/_esm2015/internal/operators/mergeScan.js"],"sourcesContent":["import { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function mergeScan(accumulator, seed, concurrent = Number.POSITIVE_INFINITY) {\n    return (source) => source.lift(new MergeScanOperator(accumulator, seed, concurrent));\n}\nexport class MergeScanOperator {\n    constructor(accumulator, seed, concurrent) {\n        this.accumulator = accumulator;\n        this.seed = seed;\n        this.concurrent = concurrent;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new MergeScanSubscriber(subscriber, this.accumulator, this.seed, this.concurrent));\n    }\n}\nexport class MergeScanSubscriber extends SimpleOuterSubscriber {\n    constructor(destination, accumulator, acc, concurrent) {\n        super(destination);\n        this.accumulator = accumulator;\n        this.acc = acc;\n        this.concurrent = concurrent;\n        this.hasValue = false;\n        this.hasCompleted = false;\n        this.buffer = [];\n        this.active = 0;\n        this.index = 0;\n    }\n    _next(value) {\n        if (this.active < this.concurrent) {\n            const index = this.index++;\n            const destination = this.destination;\n            let ish;\n            try {\n                const { accumulator } = this;\n                ish = accumulator(this.acc, value, index);\n            }\n            catch (e) {\n                return destination.error(e);\n            }\n            this.active++;\n            this._innerSub(ish);\n        }\n        else {\n            this.buffer.push(value);\n        }\n    }\n    _innerSub(ish) {\n        const innerSubscriber = new SimpleInnerSubscriber(this);\n        const destination = this.destination;\n        destination.add(innerSubscriber);\n        const innerSubscription = innerSubscribe(ish, innerSubscriber);\n        if (innerSubscription !== innerSubscriber) {\n            destination.add(innerSubscription);\n        }\n    }\n    _complete() {\n        this.hasCompleted = true;\n        if (this.active === 0 && this.buffer.length === 0) {\n            if (this.hasValue === false) {\n                this.destination.next(this.acc);\n            }\n            this.destination.complete();\n        }\n        this.unsubscribe();\n    }\n    notifyNext(innerValue) {\n        const { destination } = this;\n        this.acc = innerValue;\n        this.hasValue = true;\n        destination.next(innerValue);\n    }\n    notifyComplete() {\n        const buffer = this.buffer;\n        this.active--;\n        if (buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        else if (this.active === 0 && this.hasCompleted) {\n            if (this.hasValue === false) {\n                this.destination.next(this.acc);\n            }\n            this.destination.complete();\n        }\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}