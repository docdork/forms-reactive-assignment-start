{"ast":null,"code":"import _inherits from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _classCallCheck from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { empty } from '../observable/empty';\nexport function takeLast(count) {\n  return function takeLastOperatorFunction(source) {\n    if (count === 0) {\n      return empty();\n    } else {\n      return source.lift(new TakeLastOperator(count));\n    }\n  };\n}\nvar TakeLastOperator = /*#__PURE__*/function () {\n  function TakeLastOperator(total) {\n    _classCallCheck(this, TakeLastOperator);\n    this.total = total;\n    if (this.total < 0) {\n      throw new ArgumentOutOfRangeError();\n    }\n  }\n  _createClass(TakeLastOperator, [{\n    key: \"call\",\n    value: function call(subscriber, source) {\n      return source.subscribe(new TakeLastSubscriber(subscriber, this.total));\n    }\n  }]);\n  return TakeLastOperator;\n}();\nvar TakeLastSubscriber = /*#__PURE__*/function (_Subscriber) {\n  _inherits(TakeLastSubscriber, _Subscriber);\n  var _super = _createSuper(TakeLastSubscriber);\n  function TakeLastSubscriber(destination, total) {\n    var _this;\n    _classCallCheck(this, TakeLastSubscriber);\n    _this = _super.call(this, destination);\n    _this.total = total;\n    _this.ring = new Array();\n    _this.count = 0;\n    return _this;\n  }\n  _createClass(TakeLastSubscriber, [{\n    key: \"_next\",\n    value: function _next(value) {\n      var ring = this.ring;\n      var total = this.total;\n      var count = this.count++;\n      if (ring.length < total) {\n        ring.push(value);\n      } else {\n        var index = count % total;\n        ring[index] = value;\n      }\n    }\n  }, {\n    key: \"_complete\",\n    value: function _complete() {\n      var destination = this.destination;\n      var count = this.count;\n      if (count > 0) {\n        var total = this.count >= this.total ? this.total : this.count;\n        var ring = this.ring;\n        for (var i = 0; i < total; i++) {\n          var idx = count++ % total;\n          destination.next(ring[idx]);\n        }\n      }\n      destination.complete();\n    }\n  }]);\n  return TakeLastSubscriber;\n}(Subscriber);","map":{"version":3,"names":["Subscriber","ArgumentOutOfRangeError","empty","takeLast","count","takeLastOperatorFunction","source","lift","TakeLastOperator","total","_classCallCheck","_createClass","key","value","call","subscriber","subscribe","TakeLastSubscriber","_Subscriber","_inherits","_super","_createSuper","destination","_this","ring","Array","_next","length","push","index","_complete","i","idx","next","complete"],"sources":["/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/rxjs/_esm2015/internal/operators/takeLast.js"],"sourcesContent":["import { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { empty } from '../observable/empty';\nexport function takeLast(count) {\n    return function takeLastOperatorFunction(source) {\n        if (count === 0) {\n            return empty();\n        }\n        else {\n            return source.lift(new TakeLastOperator(count));\n        }\n    };\n}\nclass TakeLastOperator {\n    constructor(total) {\n        this.total = total;\n        if (this.total < 0) {\n            throw new ArgumentOutOfRangeError;\n        }\n    }\n    call(subscriber, source) {\n        return source.subscribe(new TakeLastSubscriber(subscriber, this.total));\n    }\n}\nclass TakeLastSubscriber extends Subscriber {\n    constructor(destination, total) {\n        super(destination);\n        this.total = total;\n        this.ring = new Array();\n        this.count = 0;\n    }\n    _next(value) {\n        const ring = this.ring;\n        const total = this.total;\n        const count = this.count++;\n        if (ring.length < total) {\n            ring.push(value);\n        }\n        else {\n            const index = count % total;\n            ring[index] = value;\n        }\n    }\n    _complete() {\n        const destination = this.destination;\n        let count = this.count;\n        if (count > 0) {\n            const total = this.count >= this.total ? this.total : this.count;\n            const ring = this.ring;\n            for (let i = 0; i < total; i++) {\n                const idx = (count++) % total;\n                destination.next(ring[idx]);\n            }\n        }\n        destination.complete();\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}