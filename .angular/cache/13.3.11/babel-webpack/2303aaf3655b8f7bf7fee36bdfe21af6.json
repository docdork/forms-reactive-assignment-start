{"ast":null,"code":"import _inherits from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _classCallCheck from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function delayWhen(delayDurationSelector, subscriptionDelay) {\n  if (subscriptionDelay) {\n    return function (source) {\n      return new SubscriptionDelayObservable(source, subscriptionDelay).lift(new DelayWhenOperator(delayDurationSelector));\n    };\n  }\n  return function (source) {\n    return source.lift(new DelayWhenOperator(delayDurationSelector));\n  };\n}\nvar DelayWhenOperator = /*#__PURE__*/function () {\n  function DelayWhenOperator(delayDurationSelector) {\n    _classCallCheck(this, DelayWhenOperator);\n    this.delayDurationSelector = delayDurationSelector;\n  }\n  _createClass(DelayWhenOperator, [{\n    key: \"call\",\n    value: function call(subscriber, source) {\n      return source.subscribe(new DelayWhenSubscriber(subscriber, this.delayDurationSelector));\n    }\n  }]);\n  return DelayWhenOperator;\n}();\nvar DelayWhenSubscriber = /*#__PURE__*/function (_OuterSubscriber) {\n  _inherits(DelayWhenSubscriber, _OuterSubscriber);\n  var _super = _createSuper(DelayWhenSubscriber);\n  function DelayWhenSubscriber(destination, delayDurationSelector) {\n    var _this;\n    _classCallCheck(this, DelayWhenSubscriber);\n    _this = _super.call(this, destination);\n    _this.delayDurationSelector = delayDurationSelector;\n    _this.completed = false;\n    _this.delayNotifierSubscriptions = [];\n    _this.index = 0;\n    return _this;\n  }\n  _createClass(DelayWhenSubscriber, [{\n    key: \"notifyNext\",\n    value: function notifyNext(outerValue, _innerValue, _outerIndex, _innerIndex, innerSub) {\n      this.destination.next(outerValue);\n      this.removeSubscription(innerSub);\n      this.tryComplete();\n    }\n  }, {\n    key: \"notifyError\",\n    value: function notifyError(error, innerSub) {\n      this._error(error);\n    }\n  }, {\n    key: \"notifyComplete\",\n    value: function notifyComplete(innerSub) {\n      var value = this.removeSubscription(innerSub);\n      if (value) {\n        this.destination.next(value);\n      }\n      this.tryComplete();\n    }\n  }, {\n    key: \"_next\",\n    value: function _next(value) {\n      var index = this.index++;\n      try {\n        var delayNotifier = this.delayDurationSelector(value, index);\n        if (delayNotifier) {\n          this.tryDelay(delayNotifier, value);\n        }\n      } catch (err) {\n        this.destination.error(err);\n      }\n    }\n  }, {\n    key: \"_complete\",\n    value: function _complete() {\n      this.completed = true;\n      this.tryComplete();\n      this.unsubscribe();\n    }\n  }, {\n    key: \"removeSubscription\",\n    value: function removeSubscription(subscription) {\n      subscription.unsubscribe();\n      var subscriptionIdx = this.delayNotifierSubscriptions.indexOf(subscription);\n      if (subscriptionIdx !== -1) {\n        this.delayNotifierSubscriptions.splice(subscriptionIdx, 1);\n      }\n      return subscription.outerValue;\n    }\n  }, {\n    key: \"tryDelay\",\n    value: function tryDelay(delayNotifier, value) {\n      var notifierSubscription = subscribeToResult(this, delayNotifier, value);\n      if (notifierSubscription && !notifierSubscription.closed) {\n        var destination = this.destination;\n        destination.add(notifierSubscription);\n        this.delayNotifierSubscriptions.push(notifierSubscription);\n      }\n    }\n  }, {\n    key: \"tryComplete\",\n    value: function tryComplete() {\n      if (this.completed && this.delayNotifierSubscriptions.length === 0) {\n        this.destination.complete();\n      }\n    }\n  }]);\n  return DelayWhenSubscriber;\n}(OuterSubscriber);\nvar SubscriptionDelayObservable = /*#__PURE__*/function (_Observable) {\n  _inherits(SubscriptionDelayObservable, _Observable);\n  var _super2 = _createSuper(SubscriptionDelayObservable);\n  function SubscriptionDelayObservable(source, subscriptionDelay) {\n    var _this2;\n    _classCallCheck(this, SubscriptionDelayObservable);\n    _this2 = _super2.call(this);\n    _this2.source = source;\n    _this2.subscriptionDelay = subscriptionDelay;\n    return _this2;\n  }\n  _createClass(SubscriptionDelayObservable, [{\n    key: \"_subscribe\",\n    value: function _subscribe(subscriber) {\n      this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(subscriber, this.source));\n    }\n  }]);\n  return SubscriptionDelayObservable;\n}(Observable);\nvar SubscriptionDelaySubscriber = /*#__PURE__*/function (_Subscriber) {\n  _inherits(SubscriptionDelaySubscriber, _Subscriber);\n  var _super3 = _createSuper(SubscriptionDelaySubscriber);\n  function SubscriptionDelaySubscriber(parent, source) {\n    var _this3;\n    _classCallCheck(this, SubscriptionDelaySubscriber);\n    _this3 = _super3.call(this);\n    _this3.parent = parent;\n    _this3.source = source;\n    _this3.sourceSubscribed = false;\n    return _this3;\n  }\n  _createClass(SubscriptionDelaySubscriber, [{\n    key: \"_next\",\n    value: function _next(unused) {\n      this.subscribeToSource();\n    }\n  }, {\n    key: \"_error\",\n    value: function _error(err) {\n      this.unsubscribe();\n      this.parent.error(err);\n    }\n  }, {\n    key: \"_complete\",\n    value: function _complete() {\n      this.unsubscribe();\n      this.subscribeToSource();\n    }\n  }, {\n    key: \"subscribeToSource\",\n    value: function subscribeToSource() {\n      if (!this.sourceSubscribed) {\n        this.sourceSubscribed = true;\n        this.unsubscribe();\n        this.source.subscribe(this.parent);\n      }\n    }\n  }]);\n  return SubscriptionDelaySubscriber;\n}(Subscriber);","map":{"version":3,"names":["Subscriber","Observable","OuterSubscriber","subscribeToResult","delayWhen","delayDurationSelector","subscriptionDelay","source","SubscriptionDelayObservable","lift","DelayWhenOperator","_classCallCheck","_createClass","key","value","call","subscriber","subscribe","DelayWhenSubscriber","_OuterSubscriber","_inherits","_super","_createSuper","destination","_this","completed","delayNotifierSubscriptions","index","notifyNext","outerValue","_innerValue","_outerIndex","_innerIndex","innerSub","next","removeSubscription","tryComplete","notifyError","error","_error","notifyComplete","_next","delayNotifier","tryDelay","err","_complete","unsubscribe","subscription","subscriptionIdx","indexOf","splice","notifierSubscription","closed","add","push","length","complete","_Observable","_super2","_this2","_subscribe","SubscriptionDelaySubscriber","_Subscriber","_super3","parent","_this3","sourceSubscribed","unused","subscribeToSource"],"sources":["/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/rxjs/_esm2015/internal/operators/delayWhen.js"],"sourcesContent":["import { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function delayWhen(delayDurationSelector, subscriptionDelay) {\n    if (subscriptionDelay) {\n        return (source) => new SubscriptionDelayObservable(source, subscriptionDelay)\n            .lift(new DelayWhenOperator(delayDurationSelector));\n    }\n    return (source) => source.lift(new DelayWhenOperator(delayDurationSelector));\n}\nclass DelayWhenOperator {\n    constructor(delayDurationSelector) {\n        this.delayDurationSelector = delayDurationSelector;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new DelayWhenSubscriber(subscriber, this.delayDurationSelector));\n    }\n}\nclass DelayWhenSubscriber extends OuterSubscriber {\n    constructor(destination, delayDurationSelector) {\n        super(destination);\n        this.delayDurationSelector = delayDurationSelector;\n        this.completed = false;\n        this.delayNotifierSubscriptions = [];\n        this.index = 0;\n    }\n    notifyNext(outerValue, _innerValue, _outerIndex, _innerIndex, innerSub) {\n        this.destination.next(outerValue);\n        this.removeSubscription(innerSub);\n        this.tryComplete();\n    }\n    notifyError(error, innerSub) {\n        this._error(error);\n    }\n    notifyComplete(innerSub) {\n        const value = this.removeSubscription(innerSub);\n        if (value) {\n            this.destination.next(value);\n        }\n        this.tryComplete();\n    }\n    _next(value) {\n        const index = this.index++;\n        try {\n            const delayNotifier = this.delayDurationSelector(value, index);\n            if (delayNotifier) {\n                this.tryDelay(delayNotifier, value);\n            }\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    }\n    _complete() {\n        this.completed = true;\n        this.tryComplete();\n        this.unsubscribe();\n    }\n    removeSubscription(subscription) {\n        subscription.unsubscribe();\n        const subscriptionIdx = this.delayNotifierSubscriptions.indexOf(subscription);\n        if (subscriptionIdx !== -1) {\n            this.delayNotifierSubscriptions.splice(subscriptionIdx, 1);\n        }\n        return subscription.outerValue;\n    }\n    tryDelay(delayNotifier, value) {\n        const notifierSubscription = subscribeToResult(this, delayNotifier, value);\n        if (notifierSubscription && !notifierSubscription.closed) {\n            const destination = this.destination;\n            destination.add(notifierSubscription);\n            this.delayNotifierSubscriptions.push(notifierSubscription);\n        }\n    }\n    tryComplete() {\n        if (this.completed && this.delayNotifierSubscriptions.length === 0) {\n            this.destination.complete();\n        }\n    }\n}\nclass SubscriptionDelayObservable extends Observable {\n    constructor(source, subscriptionDelay) {\n        super();\n        this.source = source;\n        this.subscriptionDelay = subscriptionDelay;\n    }\n    _subscribe(subscriber) {\n        this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(subscriber, this.source));\n    }\n}\nclass SubscriptionDelaySubscriber extends Subscriber {\n    constructor(parent, source) {\n        super();\n        this.parent = parent;\n        this.source = source;\n        this.sourceSubscribed = false;\n    }\n    _next(unused) {\n        this.subscribeToSource();\n    }\n    _error(err) {\n        this.unsubscribe();\n        this.parent.error(err);\n    }\n    _complete() {\n        this.unsubscribe();\n        this.subscribeToSource();\n    }\n    subscribeToSource() {\n        if (!this.sourceSubscribed) {\n            this.sourceSubscribed = true;\n            this.unsubscribe();\n            this.source.subscribe(this.parent);\n        }\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}