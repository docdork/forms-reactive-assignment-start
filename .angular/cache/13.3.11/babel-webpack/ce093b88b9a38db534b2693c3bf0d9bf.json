{"ast":null,"code":"import _get from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _classCallCheck from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { Subject } from '../Subject';\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function repeatWhen(notifier) {\n  return function (source) {\n    return source.lift(new RepeatWhenOperator(notifier));\n  };\n}\nvar RepeatWhenOperator = /*#__PURE__*/function () {\n  function RepeatWhenOperator(notifier) {\n    _classCallCheck(this, RepeatWhenOperator);\n    this.notifier = notifier;\n  }\n  _createClass(RepeatWhenOperator, [{\n    key: \"call\",\n    value: function call(subscriber, source) {\n      return source.subscribe(new RepeatWhenSubscriber(subscriber, this.notifier, source));\n    }\n  }]);\n  return RepeatWhenOperator;\n}();\nvar RepeatWhenSubscriber = /*#__PURE__*/function (_SimpleOuterSubscribe) {\n  _inherits(RepeatWhenSubscriber, _SimpleOuterSubscribe);\n  var _super = _createSuper(RepeatWhenSubscriber);\n  function RepeatWhenSubscriber(destination, notifier, source) {\n    var _this;\n    _classCallCheck(this, RepeatWhenSubscriber);\n    _this = _super.call(this, destination);\n    _this.notifier = notifier;\n    _this.source = source;\n    _this.sourceIsBeingSubscribedTo = true;\n    return _this;\n  }\n  _createClass(RepeatWhenSubscriber, [{\n    key: \"notifyNext\",\n    value: function notifyNext() {\n      this.sourceIsBeingSubscribedTo = true;\n      this.source.subscribe(this);\n    }\n  }, {\n    key: \"notifyComplete\",\n    value: function notifyComplete() {\n      if (this.sourceIsBeingSubscribedTo === false) {\n        return _get(_getPrototypeOf(RepeatWhenSubscriber.prototype), \"complete\", this).call(this);\n      }\n    }\n  }, {\n    key: \"complete\",\n    value: function complete() {\n      this.sourceIsBeingSubscribedTo = false;\n      if (!this.isStopped) {\n        if (!this.retries) {\n          this.subscribeToRetries();\n        }\n        if (!this.retriesSubscription || this.retriesSubscription.closed) {\n          return _get(_getPrototypeOf(RepeatWhenSubscriber.prototype), \"complete\", this).call(this);\n        }\n        this._unsubscribeAndRecycle();\n        this.notifications.next(undefined);\n      }\n    }\n  }, {\n    key: \"_unsubscribe\",\n    value: function _unsubscribe() {\n      var notifications = this.notifications,\n        retriesSubscription = this.retriesSubscription;\n      if (notifications) {\n        notifications.unsubscribe();\n        this.notifications = undefined;\n      }\n      if (retriesSubscription) {\n        retriesSubscription.unsubscribe();\n        this.retriesSubscription = undefined;\n      }\n      this.retries = undefined;\n    }\n  }, {\n    key: \"_unsubscribeAndRecycle\",\n    value: function _unsubscribeAndRecycle() {\n      var _unsubscribe = this._unsubscribe;\n      this._unsubscribe = null;\n      _get(_getPrototypeOf(RepeatWhenSubscriber.prototype), \"_unsubscribeAndRecycle\", this).call(this);\n      this._unsubscribe = _unsubscribe;\n      return this;\n    }\n  }, {\n    key: \"subscribeToRetries\",\n    value: function subscribeToRetries() {\n      this.notifications = new Subject();\n      var retries;\n      try {\n        var notifier = this.notifier;\n        retries = notifier(this.notifications);\n      } catch (e) {\n        return _get(_getPrototypeOf(RepeatWhenSubscriber.prototype), \"complete\", this).call(this);\n      }\n      this.retries = retries;\n      this.retriesSubscription = innerSubscribe(retries, new SimpleInnerSubscriber(this));\n    }\n  }]);\n  return RepeatWhenSubscriber;\n}(SimpleOuterSubscriber);","map":{"version":3,"names":["Subject","SimpleOuterSubscriber","innerSubscribe","SimpleInnerSubscriber","repeatWhen","notifier","source","lift","RepeatWhenOperator","_classCallCheck","_createClass","key","value","call","subscriber","subscribe","RepeatWhenSubscriber","_SimpleOuterSubscribe","_inherits","_super","_createSuper","destination","_this","sourceIsBeingSubscribedTo","notifyNext","notifyComplete","_get","_getPrototypeOf","prototype","complete","isStopped","retries","subscribeToRetries","retriesSubscription","closed","_unsubscribeAndRecycle","notifications","next","undefined","_unsubscribe","unsubscribe","e"],"sources":["/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/rxjs/_esm2015/internal/operators/repeatWhen.js"],"sourcesContent":["import { Subject } from '../Subject';\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function repeatWhen(notifier) {\n    return (source) => source.lift(new RepeatWhenOperator(notifier));\n}\nclass RepeatWhenOperator {\n    constructor(notifier) {\n        this.notifier = notifier;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new RepeatWhenSubscriber(subscriber, this.notifier, source));\n    }\n}\nclass RepeatWhenSubscriber extends SimpleOuterSubscriber {\n    constructor(destination, notifier, source) {\n        super(destination);\n        this.notifier = notifier;\n        this.source = source;\n        this.sourceIsBeingSubscribedTo = true;\n    }\n    notifyNext() {\n        this.sourceIsBeingSubscribedTo = true;\n        this.source.subscribe(this);\n    }\n    notifyComplete() {\n        if (this.sourceIsBeingSubscribedTo === false) {\n            return super.complete();\n        }\n    }\n    complete() {\n        this.sourceIsBeingSubscribedTo = false;\n        if (!this.isStopped) {\n            if (!this.retries) {\n                this.subscribeToRetries();\n            }\n            if (!this.retriesSubscription || this.retriesSubscription.closed) {\n                return super.complete();\n            }\n            this._unsubscribeAndRecycle();\n            this.notifications.next(undefined);\n        }\n    }\n    _unsubscribe() {\n        const { notifications, retriesSubscription } = this;\n        if (notifications) {\n            notifications.unsubscribe();\n            this.notifications = undefined;\n        }\n        if (retriesSubscription) {\n            retriesSubscription.unsubscribe();\n            this.retriesSubscription = undefined;\n        }\n        this.retries = undefined;\n    }\n    _unsubscribeAndRecycle() {\n        const { _unsubscribe } = this;\n        this._unsubscribe = null;\n        super._unsubscribeAndRecycle();\n        this._unsubscribe = _unsubscribe;\n        return this;\n    }\n    subscribeToRetries() {\n        this.notifications = new Subject();\n        let retries;\n        try {\n            const { notifier } = this;\n            retries = notifier(this.notifications);\n        }\n        catch (e) {\n            return super.complete();\n        }\n        this.retries = retries;\n        this.retriesSubscription = innerSubscribe(retries, new SimpleInnerSubscriber(this));\n    }\n}\n"],"mappings":";;;;;;AAAA,SAASA,OAAO,QAAQ,YAAY;AACpC,SAASC,qBAAqB,EAAEC,cAAc,EAAEC,qBAAqB,QAAQ,mBAAmB;AAChG,OAAO,SAASC,UAAUA,CAACC,QAAQ,EAAE;EACjC,OAAO,UAACC,MAAM;IAAA,OAAKA,MAAM,CAACC,IAAI,CAAC,IAAIC,kBAAkB,CAACH,QAAQ,CAAC,CAAC;EAAA;AACpE;AAAC,IACKG,kBAAkB;EACpB,SAAAA,mBAAYH,QAAQ,EAAE;IAAAI,eAAA,OAAAD,kBAAA;IAClB,IAAI,CAACH,QAAQ,GAAGA,QAAQ;EAC5B;EAACK,YAAA,CAAAF,kBAAA;IAAAG,GAAA;IAAAC,KAAA,EACD,SAAAC,KAAKC,UAAU,EAAER,MAAM,EAAE;MACrB,OAAOA,MAAM,CAACS,SAAS,CAAC,IAAIC,oBAAoB,CAACF,UAAU,EAAE,IAAI,CAACT,QAAQ,EAAEC,MAAM,CAAC,CAAC;IACxF;EAAC;EAAA,OAAAE,kBAAA;AAAA;AAAA,IAECQ,oBAAoB,0BAAAC,qBAAA;EAAAC,SAAA,CAAAF,oBAAA,EAAAC,qBAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,oBAAA;EACtB,SAAAA,qBAAYK,WAAW,EAAEhB,QAAQ,EAAEC,MAAM,EAAE;IAAA,IAAAgB,KAAA;IAAAb,eAAA,OAAAO,oBAAA;IACvCM,KAAA,GAAAH,MAAA,CAAAN,IAAA,OAAMQ,WAAW;IACjBC,KAAA,CAAKjB,QAAQ,GAAGA,QAAQ;IACxBiB,KAAA,CAAKhB,MAAM,GAAGA,MAAM;IACpBgB,KAAA,CAAKC,yBAAyB,GAAG,IAAI;IAAC,OAAAD,KAAA;EAC1C;EAACZ,YAAA,CAAAM,oBAAA;IAAAL,GAAA;IAAAC,KAAA,EACD,SAAAY,WAAA,EAAa;MACT,IAAI,CAACD,yBAAyB,GAAG,IAAI;MACrC,IAAI,CAACjB,MAAM,CAACS,SAAS,CAAC,IAAI,CAAC;IAC/B;EAAC;IAAAJ,GAAA;IAAAC,KAAA,EACD,SAAAa,eAAA,EAAiB;MACb,IAAI,IAAI,CAACF,yBAAyB,KAAK,KAAK,EAAE;QAC1C,OAAAG,IAAA,CAAAC,eAAA,CAAAX,oBAAA,CAAAY,SAAA,qBAAAf,IAAA;MACJ;IACJ;EAAC;IAAAF,GAAA;IAAAC,KAAA,EACD,SAAAiB,SAAA,EAAW;MACP,IAAI,CAACN,yBAAyB,GAAG,KAAK;MACtC,IAAI,CAAC,IAAI,CAACO,SAAS,EAAE;QACjB,IAAI,CAAC,IAAI,CAACC,OAAO,EAAE;UACf,IAAI,CAACC,kBAAkB,CAAC,CAAC;QAC7B;QACA,IAAI,CAAC,IAAI,CAACC,mBAAmB,IAAI,IAAI,CAACA,mBAAmB,CAACC,MAAM,EAAE;UAC9D,OAAAR,IAAA,CAAAC,eAAA,CAAAX,oBAAA,CAAAY,SAAA,qBAAAf,IAAA;QACJ;QACA,IAAI,CAACsB,sBAAsB,CAAC,CAAC;QAC7B,IAAI,CAACC,aAAa,CAACC,IAAI,CAACC,SAAS,CAAC;MACtC;IACJ;EAAC;IAAA3B,GAAA;IAAAC,KAAA,EACD,SAAA2B,aAAA,EAAe;MACX,IAAQH,aAAa,GAA0B,IAAI,CAA3CA,aAAa;QAAEH,mBAAmB,GAAK,IAAI,CAA5BA,mBAAmB;MAC1C,IAAIG,aAAa,EAAE;QACfA,aAAa,CAACI,WAAW,CAAC,CAAC;QAC3B,IAAI,CAACJ,aAAa,GAAGE,SAAS;MAClC;MACA,IAAIL,mBAAmB,EAAE;QACrBA,mBAAmB,CAACO,WAAW,CAAC,CAAC;QACjC,IAAI,CAACP,mBAAmB,GAAGK,SAAS;MACxC;MACA,IAAI,CAACP,OAAO,GAAGO,SAAS;IAC5B;EAAC;IAAA3B,GAAA;IAAAC,KAAA,EACD,SAAAuB,uBAAA,EAAyB;MACrB,IAAQI,YAAY,GAAK,IAAI,CAArBA,YAAY;MACpB,IAAI,CAACA,YAAY,GAAG,IAAI;MACxBb,IAAA,CAAAC,eAAA,CAAAX,oBAAA,CAAAY,SAAA,mCAAAf,IAAA;MACA,IAAI,CAAC0B,YAAY,GAAGA,YAAY;MAChC,OAAO,IAAI;IACf;EAAC;IAAA5B,GAAA;IAAAC,KAAA,EACD,SAAAoB,mBAAA,EAAqB;MACjB,IAAI,CAACI,aAAa,GAAG,IAAIpC,OAAO,CAAC,CAAC;MAClC,IAAI+B,OAAO;MACX,IAAI;QACA,IAAQ1B,QAAQ,GAAK,IAAI,CAAjBA,QAAQ;QAChB0B,OAAO,GAAG1B,QAAQ,CAAC,IAAI,CAAC+B,aAAa,CAAC;MAC1C,CAAC,CACD,OAAOK,CAAC,EAAE;QACN,OAAAf,IAAA,CAAAC,eAAA,CAAAX,oBAAA,CAAAY,SAAA,qBAAAf,IAAA;MACJ;MACA,IAAI,CAACkB,OAAO,GAAGA,OAAO;MACtB,IAAI,CAACE,mBAAmB,GAAG/B,cAAc,CAAC6B,OAAO,EAAE,IAAI5B,qBAAqB,CAAC,IAAI,CAAC,CAAC;IACvF;EAAC;EAAA,OAAAa,oBAAA;AAAA,EA5D8Bf,qBAAqB"},"metadata":{},"sourceType":"module"}