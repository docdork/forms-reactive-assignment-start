{"ast":null,"code":"import _inherits from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _classCallCheck from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { Subscriber } from '../Subscriber';\nimport { Subject } from '../Subject';\nexport function windowCount(windowSize) {\n  var startWindowEvery = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  return function windowCountOperatorFunction(source) {\n    return source.lift(new WindowCountOperator(windowSize, startWindowEvery));\n  };\n}\nvar WindowCountOperator = /*#__PURE__*/function () {\n  function WindowCountOperator(windowSize, startWindowEvery) {\n    _classCallCheck(this, WindowCountOperator);\n    this.windowSize = windowSize;\n    this.startWindowEvery = startWindowEvery;\n  }\n  _createClass(WindowCountOperator, [{\n    key: \"call\",\n    value: function call(subscriber, source) {\n      return source.subscribe(new WindowCountSubscriber(subscriber, this.windowSize, this.startWindowEvery));\n    }\n  }]);\n  return WindowCountOperator;\n}();\nvar WindowCountSubscriber = /*#__PURE__*/function (_Subscriber) {\n  _inherits(WindowCountSubscriber, _Subscriber);\n  var _super = _createSuper(WindowCountSubscriber);\n  function WindowCountSubscriber(destination, windowSize, startWindowEvery) {\n    var _this;\n    _classCallCheck(this, WindowCountSubscriber);\n    _this = _super.call(this, destination);\n    _this.destination = destination;\n    _this.windowSize = windowSize;\n    _this.startWindowEvery = startWindowEvery;\n    _this.windows = [new Subject()];\n    _this.count = 0;\n    destination.next(_this.windows[0]);\n    return _this;\n  }\n  _createClass(WindowCountSubscriber, [{\n    key: \"_next\",\n    value: function _next(value) {\n      var startWindowEvery = this.startWindowEvery > 0 ? this.startWindowEvery : this.windowSize;\n      var destination = this.destination;\n      var windowSize = this.windowSize;\n      var windows = this.windows;\n      var len = windows.length;\n      for (var i = 0; i < len && !this.closed; i++) {\n        windows[i].next(value);\n      }\n      var c = this.count - windowSize + 1;\n      if (c >= 0 && c % startWindowEvery === 0 && !this.closed) {\n        windows.shift().complete();\n      }\n      if (++this.count % startWindowEvery === 0 && !this.closed) {\n        var window = new Subject();\n        windows.push(window);\n        destination.next(window);\n      }\n    }\n  }, {\n    key: \"_error\",\n    value: function _error(err) {\n      var windows = this.windows;\n      if (windows) {\n        while (windows.length > 0 && !this.closed) {\n          windows.shift().error(err);\n        }\n      }\n      this.destination.error(err);\n    }\n  }, {\n    key: \"_complete\",\n    value: function _complete() {\n      var windows = this.windows;\n      if (windows) {\n        while (windows.length > 0 && !this.closed) {\n          windows.shift().complete();\n        }\n      }\n      this.destination.complete();\n    }\n  }, {\n    key: \"_unsubscribe\",\n    value: function _unsubscribe() {\n      this.count = 0;\n      this.windows = null;\n    }\n  }]);\n  return WindowCountSubscriber;\n}(Subscriber);","map":{"version":3,"names":["Subscriber","Subject","windowCount","windowSize","startWindowEvery","arguments","length","undefined","windowCountOperatorFunction","source","lift","WindowCountOperator","_classCallCheck","_createClass","key","value","call","subscriber","subscribe","WindowCountSubscriber","_Subscriber","_inherits","_super","_createSuper","destination","_this","windows","count","next","_next","len","i","closed","c","shift","complete","window","push","_error","err","error","_complete","_unsubscribe"],"sources":["/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/rxjs/_esm2015/internal/operators/windowCount.js"],"sourcesContent":["import { Subscriber } from '../Subscriber';\nimport { Subject } from '../Subject';\nexport function windowCount(windowSize, startWindowEvery = 0) {\n    return function windowCountOperatorFunction(source) {\n        return source.lift(new WindowCountOperator(windowSize, startWindowEvery));\n    };\n}\nclass WindowCountOperator {\n    constructor(windowSize, startWindowEvery) {\n        this.windowSize = windowSize;\n        this.startWindowEvery = startWindowEvery;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new WindowCountSubscriber(subscriber, this.windowSize, this.startWindowEvery));\n    }\n}\nclass WindowCountSubscriber extends Subscriber {\n    constructor(destination, windowSize, startWindowEvery) {\n        super(destination);\n        this.destination = destination;\n        this.windowSize = windowSize;\n        this.startWindowEvery = startWindowEvery;\n        this.windows = [new Subject()];\n        this.count = 0;\n        destination.next(this.windows[0]);\n    }\n    _next(value) {\n        const startWindowEvery = (this.startWindowEvery > 0) ? this.startWindowEvery : this.windowSize;\n        const destination = this.destination;\n        const windowSize = this.windowSize;\n        const windows = this.windows;\n        const len = windows.length;\n        for (let i = 0; i < len && !this.closed; i++) {\n            windows[i].next(value);\n        }\n        const c = this.count - windowSize + 1;\n        if (c >= 0 && c % startWindowEvery === 0 && !this.closed) {\n            windows.shift().complete();\n        }\n        if (++this.count % startWindowEvery === 0 && !this.closed) {\n            const window = new Subject();\n            windows.push(window);\n            destination.next(window);\n        }\n    }\n    _error(err) {\n        const windows = this.windows;\n        if (windows) {\n            while (windows.length > 0 && !this.closed) {\n                windows.shift().error(err);\n            }\n        }\n        this.destination.error(err);\n    }\n    _complete() {\n        const windows = this.windows;\n        if (windows) {\n            while (windows.length > 0 && !this.closed) {\n                windows.shift().complete();\n            }\n        }\n        this.destination.complete();\n    }\n    _unsubscribe() {\n        this.count = 0;\n        this.windows = null;\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}