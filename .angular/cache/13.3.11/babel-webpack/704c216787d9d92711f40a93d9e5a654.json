{"ast":null,"code":"import _get from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _classCallCheck from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { map } from './map';\nimport { from } from '../observable/from';\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function switchMap(project, resultSelector) {\n  if (typeof resultSelector === 'function') {\n    return function (source) {\n      return source.pipe(switchMap(function (a, i) {\n        return from(project(a, i)).pipe(map(function (b, ii) {\n          return resultSelector(a, b, i, ii);\n        }));\n      }));\n    };\n  }\n  return function (source) {\n    return source.lift(new SwitchMapOperator(project));\n  };\n}\nvar SwitchMapOperator = /*#__PURE__*/function () {\n  function SwitchMapOperator(project) {\n    _classCallCheck(this, SwitchMapOperator);\n    this.project = project;\n  }\n  _createClass(SwitchMapOperator, [{\n    key: \"call\",\n    value: function call(subscriber, source) {\n      return source.subscribe(new SwitchMapSubscriber(subscriber, this.project));\n    }\n  }]);\n  return SwitchMapOperator;\n}();\nvar SwitchMapSubscriber = /*#__PURE__*/function (_SimpleOuterSubscribe) {\n  _inherits(SwitchMapSubscriber, _SimpleOuterSubscribe);\n  var _super = _createSuper(SwitchMapSubscriber);\n  function SwitchMapSubscriber(destination, project) {\n    var _this;\n    _classCallCheck(this, SwitchMapSubscriber);\n    _this = _super.call(this, destination);\n    _this.project = project;\n    _this.index = 0;\n    return _this;\n  }\n  _createClass(SwitchMapSubscriber, [{\n    key: \"_next\",\n    value: function _next(value) {\n      var result;\n      var index = this.index++;\n      try {\n        result = this.project(value, index);\n      } catch (error) {\n        this.destination.error(error);\n        return;\n      }\n      this._innerSub(result);\n    }\n  }, {\n    key: \"_innerSub\",\n    value: function _innerSub(result) {\n      var innerSubscription = this.innerSubscription;\n      if (innerSubscription) {\n        innerSubscription.unsubscribe();\n      }\n      var innerSubscriber = new SimpleInnerSubscriber(this);\n      var destination = this.destination;\n      destination.add(innerSubscriber);\n      this.innerSubscription = innerSubscribe(result, innerSubscriber);\n      if (this.innerSubscription !== innerSubscriber) {\n        destination.add(this.innerSubscription);\n      }\n    }\n  }, {\n    key: \"_complete\",\n    value: function _complete() {\n      var innerSubscription = this.innerSubscription;\n      if (!innerSubscription || innerSubscription.closed) {\n        _get(_getPrototypeOf(SwitchMapSubscriber.prototype), \"_complete\", this).call(this);\n      }\n      this.unsubscribe();\n    }\n  }, {\n    key: \"_unsubscribe\",\n    value: function _unsubscribe() {\n      this.innerSubscription = undefined;\n    }\n  }, {\n    key: \"notifyComplete\",\n    value: function notifyComplete() {\n      this.innerSubscription = undefined;\n      if (this.isStopped) {\n        _get(_getPrototypeOf(SwitchMapSubscriber.prototype), \"_complete\", this).call(this);\n      }\n    }\n  }, {\n    key: \"notifyNext\",\n    value: function notifyNext(innerValue) {\n      this.destination.next(innerValue);\n    }\n  }]);\n  return SwitchMapSubscriber;\n}(SimpleOuterSubscriber);","map":{"version":3,"names":["map","from","SimpleOuterSubscriber","SimpleInnerSubscriber","innerSubscribe","switchMap","project","resultSelector","source","pipe","a","i","b","ii","lift","SwitchMapOperator","_classCallCheck","_createClass","key","value","call","subscriber","subscribe","SwitchMapSubscriber","_SimpleOuterSubscribe","_inherits","_super","_createSuper","destination","_this","index","_next","result","error","_innerSub","innerSubscription","unsubscribe","innerSubscriber","add","_complete","closed","_get","_getPrototypeOf","prototype","_unsubscribe","undefined","notifyComplete","isStopped","notifyNext","innerValue","next"],"sources":["/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/rxjs/_esm2015/internal/operators/switchMap.js"],"sourcesContent":["import { map } from './map';\nimport { from } from '../observable/from';\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function switchMap(project, resultSelector) {\n    if (typeof resultSelector === 'function') {\n        return (source) => source.pipe(switchMap((a, i) => from(project(a, i)).pipe(map((b, ii) => resultSelector(a, b, i, ii)))));\n    }\n    return (source) => source.lift(new SwitchMapOperator(project));\n}\nclass SwitchMapOperator {\n    constructor(project) {\n        this.project = project;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new SwitchMapSubscriber(subscriber, this.project));\n    }\n}\nclass SwitchMapSubscriber extends SimpleOuterSubscriber {\n    constructor(destination, project) {\n        super(destination);\n        this.project = project;\n        this.index = 0;\n    }\n    _next(value) {\n        let result;\n        const index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (error) {\n            this.destination.error(error);\n            return;\n        }\n        this._innerSub(result);\n    }\n    _innerSub(result) {\n        const innerSubscription = this.innerSubscription;\n        if (innerSubscription) {\n            innerSubscription.unsubscribe();\n        }\n        const innerSubscriber = new SimpleInnerSubscriber(this);\n        const destination = this.destination;\n        destination.add(innerSubscriber);\n        this.innerSubscription = innerSubscribe(result, innerSubscriber);\n        if (this.innerSubscription !== innerSubscriber) {\n            destination.add(this.innerSubscription);\n        }\n    }\n    _complete() {\n        const { innerSubscription } = this;\n        if (!innerSubscription || innerSubscription.closed) {\n            super._complete();\n        }\n        this.unsubscribe();\n    }\n    _unsubscribe() {\n        this.innerSubscription = undefined;\n    }\n    notifyComplete() {\n        this.innerSubscription = undefined;\n        if (this.isStopped) {\n            super._complete();\n        }\n    }\n    notifyNext(innerValue) {\n        this.destination.next(innerValue);\n    }\n}\n"],"mappings":";;;;;;AAAA,SAASA,GAAG,QAAQ,OAAO;AAC3B,SAASC,IAAI,QAAQ,oBAAoB;AACzC,SAASC,qBAAqB,EAAEC,qBAAqB,EAAEC,cAAc,QAAQ,mBAAmB;AAChG,OAAO,SAASC,SAASA,CAACC,OAAO,EAAEC,cAAc,EAAE;EAC/C,IAAI,OAAOA,cAAc,KAAK,UAAU,EAAE;IACtC,OAAO,UAACC,MAAM;MAAA,OAAKA,MAAM,CAACC,IAAI,CAACJ,SAAS,CAAC,UAACK,CAAC,EAAEC,CAAC;QAAA,OAAKV,IAAI,CAACK,OAAO,CAACI,CAAC,EAAEC,CAAC,CAAC,CAAC,CAACF,IAAI,CAACT,GAAG,CAAC,UAACY,CAAC,EAAEC,EAAE;UAAA,OAAKN,cAAc,CAACG,CAAC,EAAEE,CAAC,EAAED,CAAC,EAAEE,EAAE,CAAC;QAAA,EAAC,CAAC;MAAA,EAAC,CAAC;IAAA;EAC9H;EACA,OAAO,UAACL,MAAM;IAAA,OAAKA,MAAM,CAACM,IAAI,CAAC,IAAIC,iBAAiB,CAACT,OAAO,CAAC,CAAC;EAAA;AAClE;AAAC,IACKS,iBAAiB;EACnB,SAAAA,kBAAYT,OAAO,EAAE;IAAAU,eAAA,OAAAD,iBAAA;IACjB,IAAI,CAACT,OAAO,GAAGA,OAAO;EAC1B;EAACW,YAAA,CAAAF,iBAAA;IAAAG,GAAA;IAAAC,KAAA,EACD,SAAAC,KAAKC,UAAU,EAAEb,MAAM,EAAE;MACrB,OAAOA,MAAM,CAACc,SAAS,CAAC,IAAIC,mBAAmB,CAACF,UAAU,EAAE,IAAI,CAACf,OAAO,CAAC,CAAC;IAC9E;EAAC;EAAA,OAAAS,iBAAA;AAAA;AAAA,IAECQ,mBAAmB,0BAAAC,qBAAA;EAAAC,SAAA,CAAAF,mBAAA,EAAAC,qBAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,mBAAA;EACrB,SAAAA,oBAAYK,WAAW,EAAEtB,OAAO,EAAE;IAAA,IAAAuB,KAAA;IAAAb,eAAA,OAAAO,mBAAA;IAC9BM,KAAA,GAAAH,MAAA,CAAAN,IAAA,OAAMQ,WAAW;IACjBC,KAAA,CAAKvB,OAAO,GAAGA,OAAO;IACtBuB,KAAA,CAAKC,KAAK,GAAG,CAAC;IAAC,OAAAD,KAAA;EACnB;EAACZ,YAAA,CAAAM,mBAAA;IAAAL,GAAA;IAAAC,KAAA,EACD,SAAAY,MAAMZ,KAAK,EAAE;MACT,IAAIa,MAAM;MACV,IAAMF,KAAK,GAAG,IAAI,CAACA,KAAK,EAAE;MAC1B,IAAI;QACAE,MAAM,GAAG,IAAI,CAAC1B,OAAO,CAACa,KAAK,EAAEW,KAAK,CAAC;MACvC,CAAC,CACD,OAAOG,KAAK,EAAE;QACV,IAAI,CAACL,WAAW,CAACK,KAAK,CAACA,KAAK,CAAC;QAC7B;MACJ;MACA,IAAI,CAACC,SAAS,CAACF,MAAM,CAAC;IAC1B;EAAC;IAAAd,GAAA;IAAAC,KAAA,EACD,SAAAe,UAAUF,MAAM,EAAE;MACd,IAAMG,iBAAiB,GAAG,IAAI,CAACA,iBAAiB;MAChD,IAAIA,iBAAiB,EAAE;QACnBA,iBAAiB,CAACC,WAAW,CAAC,CAAC;MACnC;MACA,IAAMC,eAAe,GAAG,IAAIlC,qBAAqB,CAAC,IAAI,CAAC;MACvD,IAAMyB,WAAW,GAAG,IAAI,CAACA,WAAW;MACpCA,WAAW,CAACU,GAAG,CAACD,eAAe,CAAC;MAChC,IAAI,CAACF,iBAAiB,GAAG/B,cAAc,CAAC4B,MAAM,EAAEK,eAAe,CAAC;MAChE,IAAI,IAAI,CAACF,iBAAiB,KAAKE,eAAe,EAAE;QAC5CT,WAAW,CAACU,GAAG,CAAC,IAAI,CAACH,iBAAiB,CAAC;MAC3C;IACJ;EAAC;IAAAjB,GAAA;IAAAC,KAAA,EACD,SAAAoB,UAAA,EAAY;MACR,IAAQJ,iBAAiB,GAAK,IAAI,CAA1BA,iBAAiB;MACzB,IAAI,CAACA,iBAAiB,IAAIA,iBAAiB,CAACK,MAAM,EAAE;QAChDC,IAAA,CAAAC,eAAA,CAAAnB,mBAAA,CAAAoB,SAAA,sBAAAvB,IAAA;MACJ;MACA,IAAI,CAACgB,WAAW,CAAC,CAAC;IACtB;EAAC;IAAAlB,GAAA;IAAAC,KAAA,EACD,SAAAyB,aAAA,EAAe;MACX,IAAI,CAACT,iBAAiB,GAAGU,SAAS;IACtC;EAAC;IAAA3B,GAAA;IAAAC,KAAA,EACD,SAAA2B,eAAA,EAAiB;MACb,IAAI,CAACX,iBAAiB,GAAGU,SAAS;MAClC,IAAI,IAAI,CAACE,SAAS,EAAE;QAChBN,IAAA,CAAAC,eAAA,CAAAnB,mBAAA,CAAAoB,SAAA,sBAAAvB,IAAA;MACJ;IACJ;EAAC;IAAAF,GAAA;IAAAC,KAAA,EACD,SAAA6B,WAAWC,UAAU,EAAE;MACnB,IAAI,CAACrB,WAAW,CAACsB,IAAI,CAACD,UAAU,CAAC;IACrC;EAAC;EAAA,OAAA1B,mBAAA;AAAA,EAjD6BrB,qBAAqB"},"metadata":{},"sourceType":"module"}