{"ast":null,"code":"import _inherits from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _classCallCheck from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { map } from './map';\nimport { from } from '../observable/from';\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function exhaustMap(project, resultSelector) {\n  if (resultSelector) {\n    return function (source) {\n      return source.pipe(exhaustMap(function (a, i) {\n        return from(project(a, i)).pipe(map(function (b, ii) {\n          return resultSelector(a, b, i, ii);\n        }));\n      }));\n    };\n  }\n  return function (source) {\n    return source.lift(new ExhaustMapOperator(project));\n  };\n}\nvar ExhaustMapOperator = /*#__PURE__*/function () {\n  function ExhaustMapOperator(project) {\n    _classCallCheck(this, ExhaustMapOperator);\n    this.project = project;\n  }\n  _createClass(ExhaustMapOperator, [{\n    key: \"call\",\n    value: function call(subscriber, source) {\n      return source.subscribe(new ExhaustMapSubscriber(subscriber, this.project));\n    }\n  }]);\n  return ExhaustMapOperator;\n}();\nvar ExhaustMapSubscriber = /*#__PURE__*/function (_SimpleOuterSubscribe) {\n  _inherits(ExhaustMapSubscriber, _SimpleOuterSubscribe);\n  var _super = _createSuper(ExhaustMapSubscriber);\n  function ExhaustMapSubscriber(destination, project) {\n    var _this;\n    _classCallCheck(this, ExhaustMapSubscriber);\n    _this = _super.call(this, destination);\n    _this.project = project;\n    _this.hasSubscription = false;\n    _this.hasCompleted = false;\n    _this.index = 0;\n    return _this;\n  }\n  _createClass(ExhaustMapSubscriber, [{\n    key: \"_next\",\n    value: function _next(value) {\n      if (!this.hasSubscription) {\n        this.tryNext(value);\n      }\n    }\n  }, {\n    key: \"tryNext\",\n    value: function tryNext(value) {\n      var result;\n      var index = this.index++;\n      try {\n        result = this.project(value, index);\n      } catch (err) {\n        this.destination.error(err);\n        return;\n      }\n      this.hasSubscription = true;\n      this._innerSub(result);\n    }\n  }, {\n    key: \"_innerSub\",\n    value: function _innerSub(result) {\n      var innerSubscriber = new SimpleInnerSubscriber(this);\n      var destination = this.destination;\n      destination.add(innerSubscriber);\n      var innerSubscription = innerSubscribe(result, innerSubscriber);\n      if (innerSubscription !== innerSubscriber) {\n        destination.add(innerSubscription);\n      }\n    }\n  }, {\n    key: \"_complete\",\n    value: function _complete() {\n      this.hasCompleted = true;\n      if (!this.hasSubscription) {\n        this.destination.complete();\n      }\n      this.unsubscribe();\n    }\n  }, {\n    key: \"notifyNext\",\n    value: function notifyNext(innerValue) {\n      this.destination.next(innerValue);\n    }\n  }, {\n    key: \"notifyError\",\n    value: function notifyError(err) {\n      this.destination.error(err);\n    }\n  }, {\n    key: \"notifyComplete\",\n    value: function notifyComplete() {\n      this.hasSubscription = false;\n      if (this.hasCompleted) {\n        this.destination.complete();\n      }\n    }\n  }]);\n  return ExhaustMapSubscriber;\n}(SimpleOuterSubscriber);","map":{"version":3,"names":["map","from","SimpleOuterSubscriber","SimpleInnerSubscriber","innerSubscribe","exhaustMap","project","resultSelector","source","pipe","a","i","b","ii","lift","ExhaustMapOperator","_classCallCheck","_createClass","key","value","call","subscriber","subscribe","ExhaustMapSubscriber","_SimpleOuterSubscribe","_inherits","_super","_createSuper","destination","_this","hasSubscription","hasCompleted","index","_next","tryNext","result","err","error","_innerSub","innerSubscriber","add","innerSubscription","_complete","complete","unsubscribe","notifyNext","innerValue","next","notifyError","notifyComplete"],"sources":["/Users/davidholliday/Desktop/forms-reactive-assignment-start/node_modules/rxjs/_esm2015/internal/operators/exhaustMap.js"],"sourcesContent":["import { map } from './map';\nimport { from } from '../observable/from';\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function exhaustMap(project, resultSelector) {\n    if (resultSelector) {\n        return (source) => source.pipe(exhaustMap((a, i) => from(project(a, i)).pipe(map((b, ii) => resultSelector(a, b, i, ii)))));\n    }\n    return (source) => source.lift(new ExhaustMapOperator(project));\n}\nclass ExhaustMapOperator {\n    constructor(project) {\n        this.project = project;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new ExhaustMapSubscriber(subscriber, this.project));\n    }\n}\nclass ExhaustMapSubscriber extends SimpleOuterSubscriber {\n    constructor(destination, project) {\n        super(destination);\n        this.project = project;\n        this.hasSubscription = false;\n        this.hasCompleted = false;\n        this.index = 0;\n    }\n    _next(value) {\n        if (!this.hasSubscription) {\n            this.tryNext(value);\n        }\n    }\n    tryNext(value) {\n        let result;\n        const index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.hasSubscription = true;\n        this._innerSub(result);\n    }\n    _innerSub(result) {\n        const innerSubscriber = new SimpleInnerSubscriber(this);\n        const destination = this.destination;\n        destination.add(innerSubscriber);\n        const innerSubscription = innerSubscribe(result, innerSubscriber);\n        if (innerSubscription !== innerSubscriber) {\n            destination.add(innerSubscription);\n        }\n    }\n    _complete() {\n        this.hasCompleted = true;\n        if (!this.hasSubscription) {\n            this.destination.complete();\n        }\n        this.unsubscribe();\n    }\n    notifyNext(innerValue) {\n        this.destination.next(innerValue);\n    }\n    notifyError(err) {\n        this.destination.error(err);\n    }\n    notifyComplete() {\n        this.hasSubscription = false;\n        if (this.hasCompleted) {\n            this.destination.complete();\n        }\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}